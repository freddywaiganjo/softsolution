define("global/environment",function(a){"use strict";var b=a("jquery"),c=a("global/settings"),d={init:function(){d.fixModernizrFalsePositives(),d.createPubSub(),d.createGlobalEvents(),d.appendModernizrTests()},appendModernizrTests:function(){Modernizr.addTest("JSAutoMargins",function(){var a=document.createElement("div"),c=document.createElement("div");return a.appendChild(c),a.style.width="100px",c.style.width="50px",c.style.margin="0 auto",document.body.appendChild(a),25===parseInt(b(c).css("marginLeft"),10)?(b(a).remove(),!0):(b(a).remove(),!1)}),Modernizr.addTest("displayTable",function(){var a=document.createElement("div").style;try{return a.display="table","table"===a.display}catch(b){return!1}}),Modernizr.addTest("widthBoundsOnTables",function(){var a,b=document.createElement("div"),c=document.createElement("div");return Modernizr.displaytable?(b.appendChild(c),b.style.display="table",b.style.height="200px",b.style.maxWidth="100px",b.style.width="auto",c.style.display="table-cell",c.style.verticalAlign="middle",c.style.height="100px",c.innerHTML="test test test test test test test test test test test",document.documentElement.appendChild(b),a=c.getBoundingClientRect().right-c.getBoundingClientRect().left===100,document.documentElement.removeChild(b),a):!1}),Modernizr.addTest("absolutePositionOnTables",function(){var a,b=document.createElement("div"),c=document.createElement("div"),d=document.createElement("div");return Modernizr.displaytable?(b.appendChild(c),c.appendChild(d),b.style.position="relative",c.style.position="absolute",c.style.width="50%",d.style.position="absolute",d.style.display="table",d.style.right="0",d.style.width="25%",document.documentElement.appendChild(b),a=Math.abs(d.getBoundingClientRect().right-c.getBoundingClientRect().right)<=1,document.documentElement.removeChild(b),a):!1})},createPubSub:function(){var a=b({});d.on=function(){a.on.apply(a,arguments)},d.off=function(){a.off.apply(a,arguments)},d.trigger=function(){a.trigger.apply(a,arguments)}},createGlobalEvents:function(){var a={},e="onorientationchange"in window?"orientationchange resize":"resize";a.IEResizeCheck=function(a){if(!c.isLTIE9)return a();var b=c.$window.width(),d=c.$window.height();(b!==c.windowWidth||d!==c.windowHeight)&&(c.windowWidth=b,c.windowHeight=d,a())},a.throttledResize=b.throttle(500,function(){d.trigger("global:resizeThrottled")}),a.debouncedResize=b.debounce(500,function(){d.trigger("global:resizeDebounced")}),a.throttledResize200=b.throttle(200,function(){d.trigger("global:resizeThrottled-200ms")}),a.debouncedResize200=b.debounce(200,function(){d.trigger("global:resizeDebounced-200ms")}),a.debouncedResizeAtBegin200=b.debounce(200,!0,function(){d.trigger("global:resizeDebouncedAtBegin-200ms")}),a.baseThrottle=b.throttle(100,function(){a.IEResizeCheck(function(){a.throttledResize(),a.debouncedResize(),a.throttledResize200(),a.debouncedResize200(),a.debouncedResizeAtBegin200()})}),c.$window.on(e,function(){a.baseThrottle()})},fixModernizrFalsePositives:function(){c.isLTIE10&&(Modernizr.mq=function(){return!1},Modernizr.mediaqueries=!1)}};return d.init(),d}),"bind"in Function.prototype||(Function.prototype.bind=function(a){var b=this;if(arguments.length<=1)return function(){return b.apply(a,arguments)};var c=Array.prototype.slice.call(arguments,1);return function(){return b.apply(a,0===arguments.length?c:c.concat(Array.prototype.slice.call(arguments)))}}),"trim"in String.prototype||(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}),"indexOf"in Array.prototype||(Array.prototype.indexOf=function(a,b){void 0===b&&(b=0),0>b&&(b+=this.length),0>b&&(b=0);for(var c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1}),"lastIndexOf"in Array.prototype||(Array.prototype.lastIndexOf=function(a,b){for(void 0===b&&(b=this.length-1),0>b&&(b+=this.length),b>this.length-1&&(b=this.length-1),b++;b-->0;)if(b in this&&this[b]===a)return b;return-1}),"forEach"in Array.prototype||(Array.prototype.forEach=function(a,b){for(var c=0,d=this.length;d>c;c++)c in this&&a.call(b,this[c],c,this)}),"map"in Array.prototype||(Array.prototype.map=function(a,b){for(var c=new Array(this.length),d=0,e=this.length;e>d;d++)d in this&&(c[d]=a.call(b,this[d],d,this));return c}),"filter"in Array.prototype||(Array.prototype.filter=function(a,b){for(var c,d=[],e=0,f=this.length;f>e;e++)e in this&&a.call(b,c=this[e],e,this)&&d.push(c);return d}),"every"in Array.prototype||(Array.prototype.every=function(a,b){for(var c=0,d=this.length;d>c;c++)if(c in this&&!a.call(b,this[c],c,this))return!1;return!0}),"some"in Array.prototype||(Array.prototype.some=function(a,b){for(var c=0,d=this.length;d>c;c++)if(c in this&&a.call(b,this[c],c,this))return!0;return!1}),define("global/settings",function(a){"use strict";var b=a("jquery"),c=a("modernizr"),d={},e=navigator.userAgent,f={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"};return d.transEndEventName=f[c.prefixed("transition")],d.$window=b(window),d.$html=b(document.documentElement),d.isLTIE8=d.$html.hasClass("lt-ie8"),d.isLTIE9=d.$html.hasClass("lt-ie9"),d.isLTIE10=d.$html.hasClass("lt-ie10"),d.isIPhone=/iphone|ipod/gi.test(e),d.isIOS=/iphone|ipod|ipad/gi.test(e),d.isIPad=/ipad/gi.test(e),d.isAndroid=/android/gi.test(e),d.hasTouchEvents=c.touch,d}),define("global/utilities",function(a){"use strict";var b=a("jquery"),c=a("modernizr"),d={setupTextToPreventOrphans:function(a){var b=a.html();return b.split(" ").length>2&&a.html(b.replace(/\s([^\s<]+)\s*$/,"&nbsp;$1")),a},preventDefault:function(a){a.preventDefault()},kill:function(a){return a.stopPropagation(),a.stopImmediatePropagation(),a.preventDefault(),!1},forceWebkitRedraw:function(){var a=document.createElement("style");document.body.appendChild(a),document.body.removeChild(a)},forcePseudoElementRedraw:function(){var a=document.getElementsByTagName("head")[0],b=document.createElement("style");b.type="text/css",b.styleSheet.cssText=":before,:after{content:none !important",a.appendChild(b),setTimeout(function(){a.removeChild(b)},0)},empty:function(){},onTransitionEnd:function(a,d){c.csstransitions?(b.isFunction(d.complete)&&a.one(Settings.transitionEndEventName,function(){d.complete()}),b.isFunction(d.action)&&setTimeout(function(){d.action()},10)):(b.isFunction(d.action)&&d.action(),b.isFunction(d.complete)&&d.complete())}};return d});